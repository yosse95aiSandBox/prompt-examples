{"id":"9f3164f0-4625-4b78-9482-e5e265b19672","data":{"nodes":[{"id":"Data-B8ty9","type":"genericNode","position":{"x":212.95565657880337,"y":-35.703125},"data":{"type":"Data","node":{"template":{"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from typing import Optional\nfrom langflow import CustomComponent\nfrom langchain.llms.bedrock import Bedrock\nfrom langchain.llms.base import BaseLLM\n\n\nclass AmazonBedrockComponent(CustomComponent):\n    display_name: str = \"Amazon Bedrock\"\n    description: str = \"LLM model from Amazon Bedrock.\"\n\n    def build_config(self):\n        return {\n            \"model_id\": {\n                \"display_name\": \"Model Id\",\n                \"options\": [\n                    \"ai21.j2-grande-instruct\",\n                    \"ai21.j2-jumbo-instruct\",\n                    \"ai21.j2-mid\",\n                    \"ai21.j2-mid-v1\",\n                    \"ai21.j2-ultra\",\n                    \"ai21.j2-ultra-v1\",\n                    \"anthropic.claude-instant-v1\",\n                    \"anthropic.claude-v1\",\n                    \"anthropic.claude-v2:1\",\n                    \"cohere.command-text-v14\",\n                ],\n            },\n            \"credentials_profile_name\": {\"display_name\": \"Credentials Profile Name\"},\n            \"streaming\": {\"display_name\": \"Streaming\", \"field_type\": \"bool\"},\n            \"code\": {\"show\": False},\n        }\n\n    def build(\n        self,\n        model_id: str = \"anthropic.claude-instant-v1\",\n        credentials_profile_name: Optional[str] = \"default\",\n    ) -> BaseLLM:\n        try:\n            output = Bedrock(\n                credentials_profile_name=credentials_profile_name,\n                model_id=model_id,\n            )  # type: ignore\n        except Exception as e:\n            raise ValueError(\"Could not connect to AmazonBedrock API.\") from e\n        return output","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","title_case":true},"credentials_profile_name":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"value":"default","fileTypes":[],"file_path":"","password":false,"name":"credentials_profile_name","display_name":"Credentials Profile Name","advanced":false,"dynamic":false,"info":"","title_case":true},"model_id":{"type":"str","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"value":"anthropic.claude-instant-v1","fileTypes":[],"file_path":"","password":false,"options":["ai21.j2-grande-instruct","ai21.j2-jumbo-instruct","ai21.j2-mid","ai21.j2-mid-v1","ai21.j2-ultra","ai21.j2-ultra-v1","anthropic.claude-instant-v1","anthropic.claude-v1","anthropic.claude-v2:1","cohere.command-text-v14"],"name":"model_id","display_name":"Model Id","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"CustomComponent"},"description":"LLM model from Amazon Bedrock.","base_classes":["BaseLanguageModel","BaseLLM"],"display_name":"Amazon Bedrock","documentation":"","custom_fields":{"model_id":null,"credentials_profile_name":null},"output_types":["BaseLLM"],"field_formatters":{},"beta":true},"id":"Data-B8ty9","description":"LLM model from Amazon Bedrock.","display_name":"Amazon Bedrock"},"selected":false,"width":384,"height":465},{"id":"Search-RJl85","type":"genericNode","position":{"x":223.93178394082872,"y":430.95604146962194},"data":{"type":"Search","node":{"template":{"aiosession":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"aiosession","advanced":false,"dynamic":false,"info":"","title_case":true},"serpapi_api_key":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":true,"name":"serpapi_api_key","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"Search"},"description":"A search engine. Useful for when you need to answer questions about current events. Input should be a search query.","base_classes":["Tool","BaseTool"],"display_name":"Search","documentation":"","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"Search-RJl85"},"selected":true,"width":384,"height":329,"positionAbsolute":{"x":223.93178394082872,"y":430.95604146962194},"dragging":true},{"id":"ZeroShotAgent-kYrRd","type":"genericNode","position":{"x":872.2965783916457,"y":151.06212632170738},"data":{"type":"ZeroShotAgent","node":{"template":{"callback_manager":{"type":"BaseCallbackManager","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"callback_manager","advanced":false,"dynamic":false,"info":"","title_case":true},"llm":{"type":"BaseLanguageModel","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"password":false,"name":"llm","advanced":false,"dynamic":false,"info":"","title_case":true},"output_parser":{"type":"AgentOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":false,"info":"","title_case":true},"tools":{"type":"BaseTool","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"fileTypes":[],"password":false,"name":"tools","advanced":false,"dynamic":false,"info":"","title_case":true},"format_instructions":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":true,"value":"Use the following format:\n\nQuestion: the input question you must answer\nThought: you should always think about what to do\nAction: the action to take, should be one of [{tool_names}]\nAction Input: the input to the action\nObservation: the result of the action\n... (this Thought/Action/Action Input/Observation can repeat N times)\nThought: I now know the final answer\nFinal Answer: the final answer to the original input question","fileTypes":[],"password":false,"name":"format_instructions","advanced":false,"dynamic":false,"info":"","title_case":true},"input_variables":{"type":"str","required":false,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":false,"info":"","title_case":true},"prefix":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"Answer the following questions as best you can. You have access to the following tools:","fileTypes":[],"password":false,"name":"prefix","advanced":false,"dynamic":false,"info":"","title_case":true},"suffix":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"Begin!\n\nQuestion: {input}\nThought:{agent_scratchpad}","fileTypes":[],"password":false,"name":"suffix","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"ZeroShotAgent"},"description":"Construct an agent from an LLM and tools.","base_classes":["Agent","BaseSingleActionAgent","ZeroShotAgent","Callable"],"display_name":"ZeroShotAgent","documentation":"https://python.langchain.com/docs/modules/agents/how_to/custom_mrkl_agent","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"ZeroShotAgent-kYrRd"},"selected":false,"width":384,"height":463}],"edges":[{"source":"Data-B8ty9","target":"ZeroShotAgent-kYrRd","sourceHandle":"{œbaseClassesœ:[œBaseLanguageModelœ,œBaseLLMœ],œdataTypeœ:œDataœ,œidœ:œData-B8ty9œ}","targetHandle":"{œfieldNameœ:œllmœ,œidœ:œZeroShotAgent-kYrRdœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}","id":"reactflow__edge-Data-B8ty9{œbaseClassesœ:[œBaseLanguageModelœ,œBaseLLMœ],œdataTypeœ:œDataœ,œidœ:œData-B8ty9œ}-ZeroShotAgent-kYrRd{œfieldNameœ:œllmœ,œidœ:œZeroShotAgent-kYrRdœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}","data":{"targetHandle":{"fieldName":"llm","id":"ZeroShotAgent-kYrRd","inputTypes":null,"type":"BaseLanguageModel"},"sourceHandle":{"baseClasses":["BaseLanguageModel","BaseLLM"],"dataType":"Data","id":"Data-B8ty9"}},"style":{"stroke":"#555"},"className":"stroke-gray-900 ","animated":false,"selected":false},{"source":"Search-RJl85","target":"ZeroShotAgent-kYrRd","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ],œdataTypeœ:œSearchœ,œidœ:œSearch-RJl85œ}","targetHandle":"{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-kYrRdœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}","id":"reactflow__edge-Search-RJl85{œbaseClassesœ:[œToolœ,œBaseToolœ],œdataTypeœ:œSearchœ,œidœ:œSearch-RJl85œ}-ZeroShotAgent-kYrRd{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-kYrRdœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}","data":{"targetHandle":{"fieldName":"tools","id":"ZeroShotAgent-kYrRd","inputTypes":null,"type":"BaseTool"},"sourceHandle":{"baseClasses":["Tool","BaseTool"],"dataType":"Search","id":"Search-RJl85"}},"style":{"stroke":"#555"},"className":"stroke-gray-900 ","animated":false,"selected":false}],"viewport":{"x":150.85370986228818,"y":197.5046864139333,"zoom":0.6122012599941178}},"description":"Unlock the Power of AI in Your Business Conversations.","name":"4. search agent","last_tested_version":"0.6.7","is_component":false}
