{"id":"3af6b559-d112-457d-9908-b0d22f0aac4c","data":{"nodes":[{"id":"GoogleSearchResults-aJ1ZU","type":"genericNode","position":{"x":609.8413995495087,"y":572.0470620034118},"data":{"type":"GoogleSearchResults","node":{"template":{"api_wrapper":{"type":"GoogleSearchAPIWrapper","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":true,"name":"api_wrapper","advanced":false,"dynamic":false,"info":"","title_case":true},"args_schema":{"type":"Type[pydantic.v1.main.BaseModel]","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"args_schema","advanced":false,"dynamic":false,"info":"","title_case":true},"callbacks":{"type":"langchain_core.callbacks.base.BaseCallbackHandler","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"callbacks","advanced":false,"dynamic":false,"info":"","title_case":true},"handle_tool_error":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"handle_tool_error","advanced":false,"dynamic":false,"info":"","title_case":true},"handle_validation_error":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"handle_validation_error","advanced":false,"dynamic":false,"info":"","title_case":true},"metadata":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"metadata","advanced":false,"dynamic":false,"info":"","title_case":true},"num_results":{"type":"int","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":4,"fileTypes":[],"file_path":"","password":false,"name":"num_results","advanced":false,"dynamic":false,"info":"","title_case":true},"tags":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"tags","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"GoogleSearchResults"},"description":"","base_classes":["Tool","BaseTool","GoogleSearchResults","BaseTool"],"display_name":"GoogleSearchResults","documentation":"","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"GoogleSearchResults-aJ1ZU"},"selected":false,"width":384,"height":202,"positionAbsolute":{"x":609.8413995495087,"y":572.0470620034118},"dragging":false},{"id":"GoogleSearchAPIWrapper-qyGRS","type":"genericNode","position":{"x":185.57282180242123,"y":129.04028429006544},"data":{"type":"GoogleSearchAPIWrapper","node":{"template":{"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from typing import Callable, Union\n\nfrom langchain_community.utilities.google_search import GoogleSearchAPIWrapper\nfrom langflow import CustomComponent\n\n\nclass GoogleSearchAPIWrapperComponent(CustomComponent):\n    display_name = \"GoogleSearchAPIWrapper\"\n    description = \"Wrapper for Google Search API.\"\n\n    def build_config(self):\n        return {\n            \"google_api_key\": {\"display_name\": \"Google API Key\", \"password\": True},\n            \"google_cse_id\": {\"display_name\": \"Google CSE ID\", \"password\": True},\n        }\n\n    def build(\n        self,\n        google_api_key: str,\n        google_cse_id: str,\n    ) -> Union[GoogleSearchAPIWrapper, Callable]:\n        return GoogleSearchAPIWrapper(google_api_key=google_api_key, google_cse_id=google_cse_id)  # type: ignore\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","title_case":true},"google_api_key":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":true,"name":"google_api_key","display_name":"Google API Key","advanced":false,"dynamic":false,"info":"","title_case":true,"value":""},"google_cse_id":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":true,"name":"google_cse_id","display_name":"Google CSE ID","advanced":false,"dynamic":false,"info":"","title_case":true,"value":""},"_type":"CustomComponent"},"description":"Wrapper for Google Search API.","base_classes":["GoogleSearchAPIWrapper","Callable"],"display_name":"GoogleSearchAPIWrapper","documentation":"","custom_fields":{"google_api_key":null,"google_cse_id":null},"output_types":["GoogleSearchAPIWrapper","Callable"],"field_formatters":{},"beta":true},"id":"GoogleSearchAPIWrapper-qyGRS"},"selected":true,"width":384,"height":467,"dragging":false,"positionAbsolute":{"x":185.57282180242123,"y":129.04028429006544}},{"id":"ZeroShotAgent-F4oaR","type":"genericNode","position":{"x":1092.981474498235,"y":383.30653112424255},"data":{"type":"ZeroShotAgent","node":{"template":{"callback_manager":{"type":"BaseCallbackManager","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"callback_manager","advanced":false,"dynamic":false,"info":"","title_case":true},"llm":{"type":"BaseLanguageModel","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"password":false,"name":"llm","advanced":false,"dynamic":false,"info":"","title_case":true},"output_parser":{"type":"AgentOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":false,"info":"","title_case":true},"tools":{"type":"BaseTool","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"fileTypes":[],"password":false,"name":"tools","advanced":false,"dynamic":false,"info":"","title_case":true},"format_instructions":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":true,"value":"Use the following format:\n\nQuestion: the input question you must answer\nThought: you should always think about what to do\nAction: the action to take, should be one of [{tool_names}]\nAction Input: the input to the action\nObservation: the result of the action\n... (this Thought/Action/Action Input/Observation can repeat N times)\nThought: I now know the final answer\nFinal Answer: the final answer to the original input question","fileTypes":[],"password":false,"name":"format_instructions","advanced":false,"dynamic":false,"info":"","title_case":true},"input_variables":{"type":"str","required":false,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":false,"info":"","title_case":true},"prefix":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"Answer the following questions as best you can. You have access to the following tools:","fileTypes":[],"password":false,"name":"prefix","advanced":false,"dynamic":false,"info":"","title_case":true},"suffix":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"Begin!\n\nQuestion: {input}\nThought:{agent_scratchpad}","fileTypes":[],"password":false,"name":"suffix","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"ZeroShotAgent"},"description":"Construct an agent from an LLM and tools.","base_classes":["ZeroShotAgent","Agent","BaseSingleActionAgent","Callable"],"display_name":"ZeroShotAgent","documentation":"https://python.langchain.com/docs/modules/agents/how_to/custom_mrkl_agent","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"ZeroShotAgent-F4oaR"},"selected":false,"width":384,"height":462},{"id":"Data-R6N78","type":"genericNode","position":{"x":647.5819507289307,"y":-132.15893312886098},"data":{"type":"Data","node":{"template":{"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from typing import Optional\nfrom langflow import CustomComponent\nfrom langchain.llms.bedrock import Bedrock\nfrom langchain.llms.base import BaseLLM\n\n\nclass AmazonBedrockComponent(CustomComponent):\n    display_name: str = \"Amazon Bedrock\"\n    description: str = \"LLM model from Amazon Bedrock.\"\n\n    def build_config(self):\n        return {\n            \"model_id\": {\n                \"display_name\": \"Model Id\",\n                \"options\": [\n                    \"ai21.j2-grande-instruct\",\n                    \"ai21.j2-jumbo-instruct\",\n                    \"ai21.j2-mid\",\n                    \"ai21.j2-mid-v1\",\n                    \"ai21.j2-ultra\",\n                    \"ai21.j2-ultra-v1\",\n                    \"anthropic.claude-instant-v1\",\n                    \"anthropic.claude-v1\",\n                    \"anthropic.claude-v2:1\",\n                    \"cohere.command-text-v14\",\n                ],\n            },\n            \"credentials_profile_name\": {\"display_name\": \"Credentials Profile Name\"},\n            \"streaming\": {\"display_name\": \"Streaming\", \"field_type\": \"bool\"},\n            \"code\": {\"show\": False},\n        }\n\n    def build(\n        self,\n        model_id: str = \"anthropic.claude-instant-v1\",\n        credentials_profile_name: Optional[str] = None,\n    ) -> BaseLLM:\n        try:\n            output = Bedrock(\n                credentials_profile_name=credentials_profile_name,\n                model_id=model_id,\n            )  # type: ignore\n        except Exception as e:\n            raise ValueError(\"Could not connect to AmazonBedrock API.\") from e\n        return output","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","title_case":true},"credentials_profile_name":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"credentials_profile_name","display_name":"Credentials Profile Name","advanced":false,"dynamic":false,"info":"","title_case":true},"model_id":{"type":"str","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"value":"anthropic.claude-instant-v1","fileTypes":[],"file_path":"","password":false,"options":["ai21.j2-grande-instruct","ai21.j2-jumbo-instruct","ai21.j2-mid","ai21.j2-mid-v1","ai21.j2-ultra","ai21.j2-ultra-v1","anthropic.claude-instant-v1","anthropic.claude-v1","anthropic.claude-v2:1","cohere.command-text-v14"],"name":"model_id","display_name":"Model Id","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"CustomComponent"},"description":"LLM model from Amazon Bedrock.","base_classes":["BaseLanguageModel","BaseLLM"],"display_name":"Amazon Bedrock","documentation":"","custom_fields":{"model_id":null,"credentials_profile_name":null},"output_types":["BaseLLM"],"field_formatters":{},"beta":true},"id":"Data-R6N78","description":"LLM model from Amazon Bedrock.","display_name":"Amazon Bedrock"},"selected":false,"width":384,"height":463,"dragging":false,"positionAbsolute":{"x":647.5819507289307,"y":-132.15893312886098}}],"edges":[{"source":"GoogleSearchAPIWrapper-qyGRS","sourceHandle":"{œbaseClassesœ:[œGoogleSearchAPIWrapperœ,œCallableœ],œdataTypeœ:œGoogleSearchAPIWrapperœ,œidœ:œGoogleSearchAPIWrapper-qyGRSœ}","target":"GoogleSearchResults-aJ1ZU","targetHandle":"{œfieldNameœ:œapi_wrapperœ,œidœ:œGoogleSearchResults-aJ1ZUœ,œinputTypesœ:null,œtypeœ:œGoogleSearchAPIWrapperœ}","data":{"targetHandle":{"fieldName":"api_wrapper","id":"GoogleSearchResults-aJ1ZU","inputTypes":null,"type":"GoogleSearchAPIWrapper"},"sourceHandle":{"baseClasses":["GoogleSearchAPIWrapper","Callable"],"dataType":"GoogleSearchAPIWrapper","id":"GoogleSearchAPIWrapper-qyGRS"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-GoogleSearchAPIWrapper-qyGRS{œbaseClassesœ:[œGoogleSearchAPIWrapperœ,œCallableœ],œdataTypeœ:œGoogleSearchAPIWrapperœ,œidœ:œGoogleSearchAPIWrapper-qyGRSœ}-GoogleSearchResults-aJ1ZU{œfieldNameœ:œapi_wrapperœ,œidœ:œGoogleSearchResults-aJ1ZUœ,œinputTypesœ:null,œtypeœ:œGoogleSearchAPIWrapperœ}"},{"source":"GoogleSearchResults-aJ1ZU","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ,œGoogleSearchResultsœ,œBaseToolœ],œdataTypeœ:œGoogleSearchResultsœ,œidœ:œGoogleSearchResults-aJ1ZUœ}","target":"ZeroShotAgent-F4oaR","targetHandle":"{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-F4oaRœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}","data":{"targetHandle":{"fieldName":"tools","id":"ZeroShotAgent-F4oaR","inputTypes":null,"type":"BaseTool"},"sourceHandle":{"baseClasses":["Tool","BaseTool","GoogleSearchResults","BaseTool"],"dataType":"GoogleSearchResults","id":"GoogleSearchResults-aJ1ZU"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-GoogleSearchResults-aJ1ZU{œbaseClassesœ:[œToolœ,œBaseToolœ,œGoogleSearchResultsœ,œBaseToolœ],œdataTypeœ:œGoogleSearchResultsœ,œidœ:œGoogleSearchResults-aJ1ZUœ}-ZeroShotAgent-F4oaR{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-F4oaRœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}"},{"source":"Data-R6N78","sourceHandle":"{œbaseClassesœ:[œBaseLanguageModelœ,œBaseLLMœ],œdataTypeœ:œDataœ,œidœ:œData-R6N78œ}","target":"ZeroShotAgent-F4oaR","targetHandle":"{œfieldNameœ:œllmœ,œidœ:œZeroShotAgent-F4oaRœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}","data":{"targetHandle":{"fieldName":"llm","id":"ZeroShotAgent-F4oaR","inputTypes":null,"type":"BaseLanguageModel"},"sourceHandle":{"baseClasses":["BaseLanguageModel","BaseLLM"],"dataType":"Data","id":"Data-R6N78"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-Data-R6N78{œbaseClassesœ:[œBaseLanguageModelœ,œBaseLLMœ],œdataTypeœ:œDataœ,œidœ:œData-R6N78œ}-ZeroShotAgent-F4oaR{œfieldNameœ:œllmœ,œidœ:œZeroShotAgent-F4oaRœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}"}],"viewport":{"x":-28.014151968572378,"y":89.73026065356387,"zoom":0.4978395956477606}},"description":"Language Models, Mapped and Mastered.","name":"4. search-agent","last_tested_version":"0.6.10","is_component":false}