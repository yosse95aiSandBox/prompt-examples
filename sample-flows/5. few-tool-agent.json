{"id":"ba81dcb6-1ffd-4a02-a925-fed2f5d08fda","data":{"nodes":[{"id":"Data-nIdhI","type":"genericNode","position":{"x":260.326899520394,"y":-134.67771998828894},"data":{"type":"Data","node":{"template":{"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from typing import Optional\nfrom langflow import CustomComponent\nfrom langchain.llms.bedrock import Bedrock\nfrom langchain.llms.base import BaseLLM\n\n\nclass AmazonBedrockComponent(CustomComponent):\n    display_name: str = \"Amazon Bedrock\"\n    description: str = \"LLM model from Amazon Bedrock.\"\n\n    def build_config(self):\n        return {\n            \"model_id\": {\n                \"display_name\": \"Model Id\",\n                \"options\": [\n                    \"ai21.j2-grande-instruct\",\n                    \"ai21.j2-jumbo-instruct\",\n                    \"ai21.j2-mid\",\n                    \"ai21.j2-mid-v1\",\n                    \"ai21.j2-ultra\",\n                    \"ai21.j2-ultra-v1\",\n                    \"anthropic.claude-instant-v1\",\n                    \"anthropic.claude-v1\",\n                    \"anthropic.claude-v2:1\",\n                    \"cohere.command-text-v14\",\n                ],\n            },\n            \"credentials_profile_name\": {\"display_name\": \"Credentials Profile Name\"},\n            \"streaming\": {\"display_name\": \"Streaming\", \"field_type\": \"bool\"},\n            \"code\": {\"show\": False},\n        }\n\n    def build(\n        self,\n        model_id: str = \"anthropic.claude-instant-v1\",\n        credentials_profile_name: Optional[str] = \"default\",\n    ) -> BaseLLM:\n        try:\n            output = Bedrock(\n                credentials_profile_name=credentials_profile_name,\n                model_id=model_id,\n            )  # type: ignore\n        except Exception as e:\n            raise ValueError(\"Could not connect to AmazonBedrock API.\") from e\n        return output","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","title_case":true},"credentials_profile_name":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"value":"default","fileTypes":[],"file_path":"","password":false,"name":"credentials_profile_name","display_name":"Credentials Profile Name","advanced":false,"dynamic":false,"info":"","title_case":true},"model_id":{"type":"str","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"value":"anthropic.claude-instant-v1","fileTypes":[],"file_path":"","password":false,"options":["ai21.j2-grande-instruct","ai21.j2-jumbo-instruct","ai21.j2-mid","ai21.j2-mid-v1","ai21.j2-ultra","ai21.j2-ultra-v1","anthropic.claude-instant-v1","anthropic.claude-v1","anthropic.claude-v2:1","cohere.command-text-v14"],"name":"model_id","display_name":"Model Id","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"CustomComponent"},"description":"LLM model from Amazon Bedrock.","base_classes":["BaseLanguageModel","BaseLLM"],"display_name":"Amazon Bedrock","documentation":"","custom_fields":{"model_id":null,"credentials_profile_name":null},"output_types":["BaseLLM"],"field_formatters":{},"beta":true},"id":"Data-nIdhI","description":"LLM model from Amazon Bedrock.","display_name":"Amazon Bedrock"},"selected":false,"width":384,"height":465,"dragging":false,"positionAbsolute":{"x":260.326899520394,"y":-134.67771998828894}},{"id":"Search-GC7Z9","type":"genericNode","position":{"x":-174.62875705840935,"y":134.33402576030642},"data":{"type":"Search","node":{"template":{"aiosession":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"aiosession","advanced":false,"dynamic":false,"info":"","title_case":true},"serpapi_api_key":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":true,"name":"serpapi_api_key","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"Search"},"description":"A search engine. Useful for when you need to answer questions about current events. Input should be a search query.","base_classes":["Tool","BaseTool"],"display_name":"Search","documentation":"","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"Search-GC7Z9"},"selected":false,"width":384,"height":329,"positionAbsolute":{"x":-174.62875705840935,"y":134.33402576030642},"dragging":false},{"id":"JsonGetValueTool-pOpI4","type":"genericNode","position":{"x":283.99999999999994,"y":464.7140118479751},"data":{"type":"JsonGetValueTool","node":{"template":{"args_schema":{"type":"Type[pydantic.v1.main.BaseModel]","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"args_schema","advanced":false,"dynamic":false,"info":"","title_case":true},"callbacks":{"type":"langchain_core.callbacks.base.BaseCallbackHandler","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"callbacks","advanced":false,"dynamic":false,"info":"","title_case":true},"spec":{"type":"JsonSpec","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"spec","advanced":false,"dynamic":false,"info":"","title_case":true},"handle_tool_error":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"handle_tool_error","advanced":false,"dynamic":false,"info":"","title_case":true},"handle_validation_error":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"handle_validation_error","advanced":false,"dynamic":false,"info":"","title_case":true},"metadata":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"metadata","advanced":false,"dynamic":false,"info":"","title_case":true},"tags":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"tags","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"JsonGetValueTool"},"description":"","base_classes":["Tool","BaseTool","BaseTool","JsonGetValueTool"],"display_name":"JsonGetValueTool","documentation":"","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"JsonGetValueTool-pOpI4"},"selected":false,"width":384,"height":203,"positionAbsolute":{"x":283.99999999999994,"y":464.7140118479751},"dragging":false},{"id":"JsonListKeysTool-Hvxub","type":"genericNode","position":{"x":288.1820251403501,"y":710.0594867485223},"data":{"type":"JsonListKeysTool","node":{"template":{"args_schema":{"type":"Type[pydantic.v1.main.BaseModel]","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"args_schema","advanced":false,"dynamic":false,"info":"","title_case":true},"callbacks":{"type":"langchain_core.callbacks.base.BaseCallbackHandler","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"callbacks","advanced":false,"dynamic":false,"info":"","title_case":true},"spec":{"type":"JsonSpec","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"","fileTypes":[],"file_path":"","password":false,"name":"spec","advanced":false,"dynamic":false,"info":"","title_case":true},"handle_tool_error":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"handle_tool_error","advanced":false,"dynamic":false,"info":"","title_case":true},"handle_validation_error":{"type":"bool","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"handle_validation_error","advanced":false,"dynamic":false,"info":"","title_case":true},"metadata":{"type":"dict","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"metadata","advanced":false,"dynamic":false,"info":"","title_case":true},"tags":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"tags","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"JsonListKeysTool"},"description":"","base_classes":["Tool","BaseTool","BaseTool","JsonListKeysTool"],"display_name":"JsonListKeysTool","documentation":"","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"JsonListKeysTool-Hvxub"},"selected":false,"width":384,"height":203,"positionAbsolute":{"x":288.1820251403501,"y":710.0594867485223},"dragging":false},{"id":"ZeroShotAgent-hMW6c","type":"genericNode","position":{"x":919.6678213332364,"y":52.08753133341844},"data":{"type":"ZeroShotAgent","node":{"template":{"callback_manager":{"type":"BaseCallbackManager","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"callback_manager","advanced":false,"dynamic":false,"info":"","title_case":true},"llm":{"type":"BaseLanguageModel","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"password":false,"name":"llm","advanced":false,"dynamic":false,"info":"","title_case":true},"output_parser":{"type":"AgentOutputParser","required":false,"placeholder":"","list":false,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"output_parser","advanced":false,"dynamic":false,"info":"","title_case":true},"tools":{"type":"BaseTool","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"fileTypes":[],"password":false,"name":"tools","advanced":false,"dynamic":false,"info":"","title_case":true},"format_instructions":{"type":"str","required":false,"placeholder":"","list":false,"show":false,"multiline":true,"value":"Use the following format:\n\nQuestion: the input question you must answer\nThought: you should always think about what to do\nAction: the action to take, should be one of [{tool_names}]\nAction Input: the input to the action\nObservation: the result of the action\n... (this Thought/Action/Action Input/Observation can repeat N times)\nThought: I now know the final answer\nFinal Answer: the final answer to the original input question","fileTypes":[],"password":false,"name":"format_instructions","advanced":false,"dynamic":false,"info":"","title_case":true},"input_variables":{"type":"str","required":false,"placeholder":"","list":true,"show":false,"multiline":false,"fileTypes":[],"password":false,"name":"input_variables","advanced":false,"dynamic":false,"info":"","title_case":true},"prefix":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"Answer the following questions as best you can. You have access to the following tools:","fileTypes":[],"password":false,"name":"prefix","advanced":false,"dynamic":false,"info":"","title_case":true},"suffix":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":true,"value":"Begin!\n\nQuestion: {input}\nThought:{agent_scratchpad}","fileTypes":[],"password":false,"name":"suffix","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"ZeroShotAgent"},"description":"Construct an agent from an LLM and tools.","base_classes":["Agent","BaseSingleActionAgent","ZeroShotAgent","Callable"],"display_name":"ZeroShotAgent","documentation":"https://python.langchain.com/docs/modules/agents/how_to/custom_mrkl_agent","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"ZeroShotAgent-hMW6c"},"selected":false,"width":384,"height":463,"positionAbsolute":{"x":919.6678213332364,"y":52.08753133341844},"dragging":false},{"id":"JsonSpec-uXeRA","type":"genericNode","position":{"x":-172.37984723733155,"y":538.7161897578246},"data":{"type":"JsonSpec","node":{"template":{"path":{"type":"file","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"","fileTypes":[".json",".yaml",".yml"],"file_path":"","password":false,"name":"path","advanced":false,"dynamic":false,"info":"","title_case":true},"max_value_length":{"type":"int","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"6000","fileTypes":[],"file_path":"","password":false,"name":"max_value_length","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"JsonSpec"},"description":"","base_classes":["Tool","BaseTool","JsonSpec"],"display_name":"JsonSpec","documentation":"","custom_fields":{},"output_types":[],"field_formatters":{},"beta":false},"id":"JsonSpec-uXeRA"},"selected":true,"width":384,"height":327,"positionAbsolute":{"x":-172.37984723733155,"y":538.7161897578246},"dragging":false}],"edges":[{"source":"Data-nIdhI","sourceHandle":"{œbaseClassesœ:[œBaseLanguageModelœ,œBaseLLMœ],œdataTypeœ:œDataœ,œidœ:œData-nIdhIœ}","target":"ZeroShotAgent-hMW6c","targetHandle":"{œfieldNameœ:œllmœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}","data":{"targetHandle":{"fieldName":"llm","id":"ZeroShotAgent-hMW6c","inputTypes":null,"type":"BaseLanguageModel"},"sourceHandle":{"baseClasses":["BaseLanguageModel","BaseLLM"],"dataType":"Data","id":"Data-nIdhI"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-Data-nIdhI{œbaseClassesœ:[œBaseLanguageModelœ,œBaseLLMœ],œdataTypeœ:œDataœ,œidœ:œData-nIdhIœ}-ZeroShotAgent-hMW6c{œfieldNameœ:œllmœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}"},{"source":"Search-GC7Z9","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ],œdataTypeœ:œSearchœ,œidœ:œSearch-GC7Z9œ}","target":"ZeroShotAgent-hMW6c","targetHandle":"{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}","data":{"targetHandle":{"fieldName":"tools","id":"ZeroShotAgent-hMW6c","inputTypes":null,"type":"BaseTool"},"sourceHandle":{"baseClasses":["Tool","BaseTool"],"dataType":"Search","id":"Search-GC7Z9"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-Search-GC7Z9{œbaseClassesœ:[œToolœ,œBaseToolœ],œdataTypeœ:œSearchœ,œidœ:œSearch-GC7Z9œ}-ZeroShotAgent-hMW6c{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}"},{"source":"JsonGetValueTool-pOpI4","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ,œBaseToolœ,œJsonGetValueToolœ],œdataTypeœ:œJsonGetValueToolœ,œidœ:œJsonGetValueTool-pOpI4œ}","target":"ZeroShotAgent-hMW6c","targetHandle":"{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}","data":{"targetHandle":{"fieldName":"tools","id":"ZeroShotAgent-hMW6c","inputTypes":null,"type":"BaseTool"},"sourceHandle":{"baseClasses":["Tool","BaseTool","BaseTool","JsonGetValueTool"],"dataType":"JsonGetValueTool","id":"JsonGetValueTool-pOpI4"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-JsonGetValueTool-pOpI4{œbaseClassesœ:[œToolœ,œBaseToolœ,œBaseToolœ,œJsonGetValueToolœ],œdataTypeœ:œJsonGetValueToolœ,œidœ:œJsonGetValueTool-pOpI4œ}-ZeroShotAgent-hMW6c{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}"},{"source":"JsonListKeysTool-Hvxub","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ,œBaseToolœ,œJsonListKeysToolœ],œdataTypeœ:œJsonListKeysToolœ,œidœ:œJsonListKeysTool-Hvxubœ}","target":"ZeroShotAgent-hMW6c","targetHandle":"{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}","data":{"targetHandle":{"fieldName":"tools","id":"ZeroShotAgent-hMW6c","inputTypes":null,"type":"BaseTool"},"sourceHandle":{"baseClasses":["Tool","BaseTool","BaseTool","JsonListKeysTool"],"dataType":"JsonListKeysTool","id":"JsonListKeysTool-Hvxub"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-JsonListKeysTool-Hvxub{œbaseClassesœ:[œToolœ,œBaseToolœ,œBaseToolœ,œJsonListKeysToolœ],œdataTypeœ:œJsonListKeysToolœ,œidœ:œJsonListKeysTool-Hvxubœ}-ZeroShotAgent-hMW6c{œfieldNameœ:œtoolsœ,œidœ:œZeroShotAgent-hMW6cœ,œinputTypesœ:null,œtypeœ:œBaseToolœ}"},{"source":"JsonSpec-uXeRA","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ,œJsonSpecœ],œdataTypeœ:œJsonSpecœ,œidœ:œJsonSpec-uXeRAœ}","target":"JsonListKeysTool-Hvxub","targetHandle":"{œfieldNameœ:œspecœ,œidœ:œJsonListKeysTool-Hvxubœ,œinputTypesœ:null,œtypeœ:œJsonSpecœ}","data":{"targetHandle":{"fieldName":"spec","id":"JsonListKeysTool-Hvxub","inputTypes":null,"type":"JsonSpec"},"sourceHandle":{"baseClasses":["Tool","BaseTool","JsonSpec"],"dataType":"JsonSpec","id":"JsonSpec-uXeRA"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-JsonSpec-uXeRA{œbaseClassesœ:[œToolœ,œBaseToolœ,œJsonSpecœ],œdataTypeœ:œJsonSpecœ,œidœ:œJsonSpec-uXeRAœ}-JsonListKeysTool-Hvxub{œfieldNameœ:œspecœ,œidœ:œJsonListKeysTool-Hvxubœ,œinputTypesœ:null,œtypeœ:œJsonSpecœ}"},{"source":"JsonSpec-uXeRA","sourceHandle":"{œbaseClassesœ:[œToolœ,œBaseToolœ,œJsonSpecœ],œdataTypeœ:œJsonSpecœ,œidœ:œJsonSpec-uXeRAœ}","target":"JsonGetValueTool-pOpI4","targetHandle":"{œfieldNameœ:œspecœ,œidœ:œJsonGetValueTool-pOpI4œ,œinputTypesœ:null,œtypeœ:œJsonSpecœ}","data":{"targetHandle":{"fieldName":"spec","id":"JsonGetValueTool-pOpI4","inputTypes":null,"type":"JsonSpec"},"sourceHandle":{"baseClasses":["Tool","BaseTool","JsonSpec"],"dataType":"JsonSpec","id":"JsonSpec-uXeRA"}},"style":{"stroke":"#555"},"className":"stroke-foreground  stroke-connection","animated":false,"id":"reactflow__edge-JsonSpec-uXeRA{œbaseClassesœ:[œToolœ,œBaseToolœ,œJsonSpecœ],œdataTypeœ:œJsonSpecœ,œidœ:œJsonSpec-uXeRAœ}-JsonGetValueTool-pOpI4{œfieldNameœ:œspecœ,œidœ:œJsonGetValueTool-pOpI4œ,œinputTypesœ:null,œtypeœ:œJsonSpecœ}"}],"viewport":{"x":149.10419922277308,"y":110.70194568654705,"zoom":0.6619346811792628}},"description":"","name":"few-tool agent","last_tested_version":"0.6.7","is_component":false}
